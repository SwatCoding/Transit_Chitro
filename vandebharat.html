<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>indianrailways | Transit Chitro</title>
  <link rel="stylesheet" href="css/indian_railways_style.css" />
  <style>
    .svg-container {
  position: relative;
  width: 80vmin;
  aspect-ratio: 2999.0879 / 3186.807;
  border: 1px solid #555;
  margin: 30px auto;
  overflow: hidden;
  background: #f9f9f9;
  display: flex;
  align-items: center;
  justify-content: center;
}

#pan-container

{
  width: 100%;
  height: 100%;
  overflow: hidden;
  cursor: grab;
}

.controls {
  position: absolute;
  top: 10px;
  right: 10px;
  display: flex;
  flex-direction: column;
  gap: 5px;
  z-index: 10;
  pointer-events: auto;
}

.controls button {
  background: #333;
  color: white;
  border: none;
  padding: 5px 8px;
  font-size: 16px;
  cursor: pointer;
  border-radius: 4px;
}

.controls button:hover {
  background: #555;
}

    .paragraph {
      text-align: center;
      max-width: 1000px;
      margin: 20px auto;
      font-size: 16px;
      line-height: 1.6;
    }

  </style>
</head>

<body>
  <div class="page-container">

    <!-- Navbar -->
    <div id="navbar"></div>

    <!-- Title and Map -->
<main style="text-align: center;">

<h2>SCHEMATIC MAP OF VANDE BHARAT EXPRESS SERVICE ACROSS INDIA</h2> 

  <div class="svg-container" id="svg-wrapper">
    <div class="controls">
      <button onclick="zoom(1.1)">+</button>
      <button onclick="zoom(0.9)">âˆ’</button>
    </div>
    <div id="pan-container"></div>
  </div>
  
  <p class="paragraph">
Vande Bharat is a type of higher speed passenger rail service being operated by the Indian Railways connecting major cites and population centres across India. It is operated utilizing the Train 18 or Vande Bharat Electrical multiple Unit clocking a maximum operational speed of 130 km/h making it one of the fastest train in India. Commercial services began in 2019 connecting New Delhi with Varanasi Junction via Kanpur Central and Prayagraj Junction. Since then, 70 Vande Bharat services have been introduced all over India. This schematic map diagram features every operational Vande Bharat Services and its stoppage classified by colour according to its zonal operators with the service name and train number mentioned along the route as of July 2025. The map is a schematic topological diagram focused on union of design, visual appearance and legibility and is not upto geographical scale. 
</p>

  <script>
    let scale = 1;
    const minScale = 1;
    const maxScale = 15;
    let isPanning = false;
    let start = { x: 0, y: 0 };
    let translate = { x: 0, y: 0 };

    fetch('images/indian_railways/vandebharat.svg')
      .then(res => res.text())
      .then(svg => {
        const panContainer = document.getElementById('pan-container');
        panContainer.innerHTML = svg;

        const svgElement = panContainer.querySelector('svg');
        svgElement.setAttribute('id', 'map-svg');
        svgElement.style.width = '100%';
        svgElement.style.height = '100%';
        svgElement.style.transformOrigin = '0 0';
        svgElement.style.transition = 'transform 0.25s ease';
        svgElement.style.cursor = 'grab';
        svgElement.style.zIndex = '0';

        // Mouse pan
        panContainer.addEventListener('mousedown', (e) => {
          isPanning = true;
          start.x = e.clientX;
          start.y = e.clientY;
          svgElement.style.cursor = 'grabbing';
        });

        window.addEventListener('mouseup', () => {
          isPanning = false;
          svgElement.style.cursor = 'grab';
        });

        window.addEventListener('mousemove', (e) => {
          if (!isPanning) return;
          const dx = e.clientX - start.x;
          const dy = e.clientY - start.y;
          start.x = e.clientX;
          start.y = e.clientY;
          translate.x += dx;
          translate.y += dy;
          applyTransform();
        });

        // Touch pan
        panContainer.addEventListener('touchstart', (e) => {
          isPanning = true;
          start.x = e.touches[0].clientX;
          start.y = e.touches[0].clientY;
        });

        panContainer.addEventListener('touchend', () => {
          isPanning = false;
        });

        panContainer.addEventListener('touchmove', (e) => {
          if (!isPanning) return;
          e.preventDefault();
          const dx = e.touches[0].clientX - start.x;
          const dy = e.touches[0].clientY - start.y;
          start.x = e.touches[0].clientX;
          start.y = e.touches[0].clientY;
          translate.x += dx;
          translate.y += dy;
          applyTransform();
        }, { passive: false });

        // Zoom buttons now functional
        window.zoom = function (factor) {
          scale *= factor;
          scale = Math.max(minScale, Math.min(maxScale, scale));
          applyTransform();
        };

        function applyTransform() {
          const container = document.getElementById('svg-wrapper');
          const svg = document.getElementById('map-svg');
          if (svg) {
            // Clamp translate to keep SVG in view
            const maxTranslateX = container.clientWidth * (scale - 1);
            const maxTranslateY = container.clientHeight * (scale - 1);

            translate.x = Math.max(-maxTranslateX, Math.min(translate.x, maxTranslateX));
            translate.y = Math.max(-maxTranslateY, Math.min(translate.y, maxTranslateY));

            svg.style.transform = `translate(${translate.x}px, ${translate.y}px) scale(${scale})`;
          }
        }
      });
  </script>
</main>


    <!-- Footer -->
    <div id="footer"></div>

  </div>
<script src="js/include.js"></script>

</body>
</html>
